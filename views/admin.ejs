<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>My Shop - Admin</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      body {
        background-color: #f8f9fa;
      }

      footer {
        margin-top: 50px;
        padding: 20px;
        text-align: center;
        background-color: #343a40;
        color: #fff;
      }
    </style>
  </head>

  <body>
    <header class="navbar navbar-dark bg-dark p-3">
      <div class="container">
        <a class="navbar-brand" href="/">The T Shirt Store</a>
        <nav class="d-flex align-items-center">
          <a class="text-white me-3" href="/">Home</a>

          <a class="text-white position-relative me-3" href="/cart">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              fill="currentColor"
              class="bi bi-cart"
              viewBox="0 0 16 16"
            >
              <path
                d="M0 1.5A.5.5 0 0 1 .5 1h1a.5.5 0 0 1 .485.379L2.89 6H14.5a.5.5 0 0 1 .49.598l-1.5 7A.5.5 0 0 1 13 14H4a.5.5 0 0 1-.49-.402L1.01 2H.5a.5.5 0 0 1-.5-.5zM3.102 7l1.313 6h8.17l1.313-6H3.102z"
              />
            </svg>

            <% const cartCount = cart && cart.length ? cart.length : 0; %> <% if
            (cartCount > 0) { %>
            <span
              class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
            >
              <%= cartCount %>
            </span>
            <% } %>
          </a>

          <a class="text-white" href="/admin">Admin</a>
        </nav>
      </div>
    </header>

    <main class="container my-5">
      <h2>Admin Dashboard</h2>

      <form action="/admin/add-product" method="POST" class="mb-5">
        <div class="mb-3">
          <input
            type="text"
            name="name"
            class="form-control"
            placeholder="Product Name"
            required
          />
        </div>
        <div class="mb-3">
          <input
            type="number"
            name="price"
            class="form-control"
            placeholder="Price"
            required
          />
        </div>
        <button type="submit" class="btn btn-primary">Add Product</button>
      </form>

      <h3>All Products</h3>
      <ul class="list-group">
        <% if (products.length === 0) { %>
        <li class="list-group-item">No products yet.</li>
        <% } else { %> <% products.forEach(product => { %>
        <li class="list-group-item d-flex justify-content-between">
          <span><%= product.name %></span>
          <span>Â£<%= product.price %></span>
        </li>
        <% }); %> <% } %>
      </ul>
    </main>

    <footer>
      <p>&copy; 2025 My Shop</p>
    </footer>
  </body>
</html>
