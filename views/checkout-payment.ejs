<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Payment - The T Shirt Store</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="container mt-5">
    <!-- Shared Header Include -->
    <%- include('partials/header') %>
    <h2>Enter Your Payment Details</h2>

    <% if (error) { %>
    <div class="alert alert-danger"><%= error %></div>
    <% } %>

    <form action="/checkout/complete" method="POST" class="mb-3">
      <div class="mb-3">
        <label for="cardNumber" class="form-label">Card Number</label>
        <input
          type="text"
          class="form-control"
          id="cardNumber"
          name="cardNumber"
          maxlength="16"
          placeholder="4444 4444 4444 4444"
          required
        />
      </div>

      <div class="mb-3">
        <label for="expiryDate" class="form-label">Expiry Date (MM/YY)</label>
        <input
          type="text"
          class="form-control"
          id="expiryDate"
          name="expiryDate"
          maxlength="5"
          placeholder="12/29"
          required
        />
      </div>

      <div class="mb-3">
        <label for="cvv" class="form-label">CVV</label>
        <input
          type="text"
          class="form-control"
          id="cvv"
          name="cvv"
          maxlength="3"
          placeholder="123"
          required
        />
      </div>

      <button type="submit" class="btn btn-success">
        Pay Â£<%= cart.reduce((acc, item) => acc + item.price * item.quantity,
        0).toFixed(2) %> & Complete Order
      </button>
    </form>

    <a href="/checkout/review" class="btn btn-secondary">Back to Review</a>
    <%- include('partials/footer') %>
  </body>
</html>
