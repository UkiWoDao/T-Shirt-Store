<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edit Shipping Address - The T Shirt Store</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Shared Header Include -->
    <%- include('partials/header') %>

    <main class="container my-5">
      <h1 class="mb-4">Edit Shipping Address</h1>

      <!-- âœ… ONLY ONE FORM -->
      <form action="/my-account/edit-address" method="POST" class="row g-3">
        <!-- Full Name -->
        <div class="col-md-6">
          <label for="full_name" class="form-label">Full Name</label>
          <input
            type="text"
            id="full_name"
            name="full_name"
            class="form-control"
            placeholder="Full Name"
            value="<%= user?.name || '' %>"
            required
          />
        </div>

        <!-- Email -->
        <div class="col-md-6">
          <label for="email" class="form-label">Email</label>
          <input
            type="email"
            id="email"
            name="email"
            class="form-control"
            placeholder="Email"
            value="<%= user?.email || '' %>"
            required
          />
        </div>

        <!-- Street -->
        <div class="col-md-6">
          <label for="street" class="form-label">Street</label>
          <input
            type="text"
            id="street"
            name="street"
            class="form-control"
            style="text-transform: capitalize"
            value="<%= shippingAddress ? shippingAddress.street : '' %>"
            required
          />
        </div>

        <!-- Address Line 2 -->
        <div class="col-md-6">
          <label for="address_line2" class="form-label">Address Line 2</label>
          <input
            type="text"
            id="address_line2"
            name="address_line2"
            class="form-control"
            style="text-transform: capitalize;"
            value="<%= shippingAddress ? shippingAddress.address_line2 : '' %>"
          />
        </div>

        <!-- City -->
        <div class="col-md-6">
          <label for="city" class="form-label">City</label>
          <input
            type="text"
            id="city"
            name="city"
            class="form-control"
            style="text-transform: capitalize;"
            value="<%= shippingAddress ? shippingAddress.city : '' %>"
            required
          />
        </div>

        <!-- Postcode -->
        <div class="col-md-6">
          <label for="postcode" class="form-label">Postcode</label>
          <input
            type="text"
            id="postcode"
            name="postcode"
            class="form-control"
            style="text-transform: uppercase;"
            value="<%= shippingAddress ? shippingAddress.postcode : '' %>"
            required
          />
        </div>

        <!-- Country -->
        <div class="col-md-6">
          <label for="country" class="form-label">Country</label>
          <input
            type="text"
            id="country"
            name="country"
            class="form-control"
            value="<%= shippingAddress ? shippingAddress.country : '' %>"
            required
          />
        </div>

        <!-- Phone -->
        <div class="col-md-6">
          <label for="phone" class="form-label">Phone</label>
          <input
            type="text"
            id="phone"
            name="phone"
            class="form-control"
            value="<%= shippingAddress ? shippingAddress.phone : '' %>"
          />
        </div>

        <!-- Submit Button -->
        <div class="col-12">
          <button type="submit" class="btn btn-primary">Save</button>
        </div>
      </form>
    </main>

    <!-- Shared Footer Include -->
    <%- include('partials/footer') %>
  </body>
</html>
