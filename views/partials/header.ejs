<header class="navbar navbar-expand-lg navbar-dark bg-dark p-3">
  <div class="container">
    <a class="navbar-brand" href="/">The T Shirt Store</a>

    <nav class="navbar-nav ms-auto d-flex flex-row align-items-center gap-3">
      <% if (firstName) { %>
      <!-- Welcome Message -->
      <span class="nav-link text-white" data-testId="welcome-message"> Welcome, <%= firstName %>! </span>

      <!-- Home Link -->
      <a class="nav-link text-white" href="/">Home</a>

      <!-- Cart Link (always visible) -->
      <a class="nav-link text-white position-relative" href="/cart">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="currentColor"
          class="bi bi-cart"
          viewBox="0 0 16 16"
        >
          <path
            d="M0 1.5A.5.5 0 0 1 .5 1h1a.5.5 0 0 1 .485.379L2.89 6H14.5a.5.5 0 0 1 .49.598l-1.5 7A.5.5 0 0 1 13 14H4a.5.5 0 0 1-.49-.402L1.01 2H.5a.5.5 0 0 1-.5-.5zM3.102 7l1.313 6h8.17l1.313-6H3.102z"
          />
        </svg>

        <% let cartCount = 0; if (cart && cart.length) { cart.forEach(item => {
        cartCount += item.quantity; }); } %> <% if (cartCount > 0) { %>
        <span
          class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
        >
          <%= cartCount %>
        </span>
        <% } %>
      </a>

      <!-- My Account -->
      <a class="nav-link text-white" href="/my-account">My Account</a>

      <!-- Logout Button -->
      <a class="btn btn-outline-light" href="/logout">Logout</a>

      <% } else { %>
      <!-- Login and Register -->
      <a class="nav-link text-white" href="/login">Login</a>
      <a class="nav-link text-white" href="/register">Register</a>
      <% } %>
    </nav>
  </div>
</header>
